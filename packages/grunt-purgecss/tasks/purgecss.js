"use strict";var t=require("purgecss");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=e(t);function n(t,e=[]){return e.filter((e=>!!t.file.exists(e)||(t.log.warn(`Source file "${e}" not found.`),!1)))}module.exports=function(e){e.registerMultiTask("purgecss","Grunt plugin for PurgeCSS",(function(){const r=this.async(),i=this.options(t.defaultOptions),o=[];for(const t of this.files){const r=n(e,t.src),u=(new s.default).purge({...i,css:r}).then((s=>{if(void 0===t.dest)throw new Error("Destination file not found");e.file.write(t.dest,s[0].css),e.log.writeln(`File "${t.dest}" created.`)}));o.push(u)}Promise.all(o).then((()=>{r()})).catch((()=>r(!1)))}))};
